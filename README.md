# 概要

# インストール

試していないのでコマンド不明  
クローンして動かす時が来たら調査して記載予定

## 起動

`./vendor/bin/sail up -d`

# 開発
## フォーマッター

`./vendor/bin/sail pint`

## lint

`./vendor/bin/sail run ./vendor/bin/phpstan analyse`

## テスト

`./vendor/bin/sail run php artisan test`

# アプリケーション構造

## appディレクトリ構造

このプロジェクトはクリーンアーキテクチャに基づいて構成されています。以下に`app`ディレクトリの主要なディレクトリ構造を示します：

```
app/
├── Domain/                 # ドメイン層：ビジネスロジックの中心
│   └── Contact/            # Contactドメイン
│
├── Http/                   # HTTPリクエスト処理
│   ├── Controllers/        # コントローラー
│   │   ├── Api/            # APIコントローラー
│   └── Requests/           # フォームリクエストバリデーション
│
├── Infrastructure/         # インフラストラクチャ層：外部サービスとの連携
│   └── Eloquent/           # Eloquent ORMを使用したリポジトリ実装
│
├── Models/                 # Eloquentモデル
│
├── Providers/              # サービスプロバイダー
│
└── UseCases/               # ユースケース層：アプリケーションのビジネスロジック
    └── Contact/            # Contact関連のユースケース
```

### 各層の責務と依存関係

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  ┌───────────────┐      ┌───────────────┐      ┌───────────────┐│
│  │     Http      │      │   UseCases    │      │    Domain     ││
│  │  Controllers  │─────▶│               │─────▶│               ││
│  │   Requests    │      │               │      │               ││
│  └───────────────┘      └───────────────┘      └───────────────┘│
│          │                      │                      ▲        │
│          │                      │                      │        │
│          │                      │                      │        │
│          │                      ▼                      │        │
│          │              ┌───────────────┐              │        │
│          │              │Infrastructure │              │        │
│          └─────────────▶│   Eloquent   │──────────────┘        │
│                         │    Models    │                        │
│                         └───────────────┘                       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

#### 依存関係の流れ

- **Http層**: 外部からのリクエストを受け取り、UseCases層を呼び出します。また、直接Infrastructureを利用することもあります。
- **UseCases層**: Domain層のエンティティとリポジトリインターフェースを使用し、アプリケーションのビジネスロジックを実装します。
- **Domain層**: 最も中心的な層で、ビジネスルールとエンティティを定義します。他の層に依存しません。
- **Infrastructure層**: Domain層で定義されたインターフェースを実装し、外部サービスとの連携を担当します。Domain層に依存します。

#### 各ディレクトリに含まれるもの

- **Domain**: エンティティ、値オブジェクト、リポジトリインターフェース
- **UseCases**: アプリケーション固有のビジネスロジック、サービス
- **Http/Controllers**: リクエスト処理、レスポンス生成
- **Http/Requests**: リクエストバリデーション
- **Infrastructure**: リポジトリ実装、外部APIクライアント
- **Models**: Eloquent ORM モデル
- **Providers**: サービスプロバイダー（DIコンテナの設定）